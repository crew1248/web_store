@model x_nova_template.ViewModel.ProductListViewModel
@{
    ViewBag.Title = ProductController.GetCatName(Model.PagingInfo.CatId);

    int carouselCounter = 1;
    int catId = 0;
}



<div class="xn-listview-cont clearfix">
    <div class="xn-listview-wrapper">
       
                    <div class="xn-listview-feed " >
                        <!-- start of list-->
                        @foreach (var item in Model.Products)
                        {

                            <div class="xn-listview-item" data-id="@item.ID">
                                <div class="xn-listview-item__row">
                                   
                                 
                                    <div class="caption-more-details">

                                        <div class="xn-details xn__popup">быстрый просмотр</div>
                                    </div>
                                    <div class="item-img">
                                           
                                        @if (item.ProdImages.Any(x => x.IsPreview == 1))
                                        {
                                            <img id="mpic_@item.ID" data-id="@item.ProdImages.SingleOrDefault(x=>x.IsPreview==1).ID" src="@Url.Content("~/Content/Files/Product/" + item.ID + "/200x150/" + item.ProdImages.Where(x => x.IsPreview == 1).SingleOrDefault().ImageMimeType)" />
                                        }

                                    </div>
                                   
                                    <div class="caption">
                                        <div class="caption-wrap">
                                            <div class="caption-title">
                                                <div class="caption-h4">

                                                    @{var name = item.ProductName.Length > 50 ? item.ProductName.Substring(0, 50) + "..." : item.ProductName;}
                                                    <span>@name</span>
                                                </div>
                                            </div>
                                            <div class="caption-info">
                                                @*<div class="caption-text">
                                                    @item.Description
                                                </div>*@
                                                <div class="caption-des">
                                                    <div class="caption-price">
                                                        <div class="caption-item-price">
                                                            @item.Price.ToString("N0") р.
                                                        </div>
                                                    </div>
                                                    <div class="caption-btns">
                                                        @*<button class="btn btn-default xn-dark-button @(ProductController.ProdIsAdded(item.ID) ? "prod-added":"prod-toadd")" data-event-type="cart__add" data-pid="@item.ID">@(ProductController.ProdIsAdded(item.ID) ? "В корзине" : "Купить")</button>*@
                                                        <a href="@Url.Action( "Details", "Product", new { id = item.GenerateSlug() })"  class="cat-btn default-btn @(ProductController.ProdIsAdded(item.ID) ? "prod-added":"prod-toadd")" data-pid="@item.ID"><span class="cat-btn__text">Подробнее</span><div>
                                                    </div>


                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                 
                                </div>
                                @*<div class="xn-lockup">
                                    <div class="item-img">
                                        @if (item.ProdImages.Any(x => x.IsPreview == 1))
                                        {
                                             <img id="mpic_@item.ID" data-id="@item.ProdImages.SingleOrDefault(x=>x.IsPreview==1).ID" src="@Url.Content("~/Content/Files/Product/" + item.ID + "/200x150/" + item.ProdImages.Where(x => x.IsPreview == 1).SingleOrDefault().ImageMimeType)" />
                                        }
                                    </div>
                                    <div class="item-title">
                                        @{var name = item.ProductName.Length > 50 ? item.ProductName.Substring(0, 50) + "..." : item.ProductName;}
                                        @Html.ActionLink(name, "Details", "Product", new { id = item.GenerateSlug() }, new { @class = "prod-preview" })

                                    </div>


                                    <div class="item-desc">
                                        <div class="item-price">@item.Price.ToString("N0") р.</div>
                                        <div>
                                            <button class="btn btn-default xn-dark-button" data-event-type="cart__add" data-pid="@item.ID">купить</button>
                                            <button class="btn btn-default xn-details xn__popup">просмотр</button>
                                        </div>
                                    </div>
                                </div>*@
                            </div>
                                    </div></div>

                        }
                        <!-- End listview -->
                    </div>
                </div>
            </div>

<div class="pager">@Ajax.AjaxPageLinks(Model.PagingInfo)</div>


<style>    /*.thumbnail {
        margin:0;
        border:inherit;
        transition:inherit;
    }
    .thumbnail {
        margin-bottom: 20px;
        padding: 0px;
        -webkit-border-radius: 0px;
        -moz-border-radius: 0px;
        border-radius: 0px;
        border: 1px solid gray;
    }

    .item.list-group-item {
        float: none;
        width: 100%;
        background-color: #fff;
        margin-bottom: 10px;
    }

        .item.list-group-item:nth-of-type(odd):hover, .item.list-group-item:hover {
            background: #428bca;
        }

        .item.list-group-item .list-group-image {
            margin-right: 10px;
        }

        .item.list-group-item .thumbnail {
            margin-bottom: 0px;
        }

        .item.list-group-item .caption {
            padding: 9px 9px 0px 9px;
        }

        .item.list-group-item:nth-of-type(odd) {
            background: #eeeeee;
        }

        .item.list-group-item:before, .item.list-group-item:after {
            display: table;
            content: " ";
        }

        .item.list-group-item img {
            float: left;
        }

        .item.list-group-item:after {
            clear: both;
        }

    .list-group-item-text {
        margin: 0 0 11px;
    }*/

</style>
