<?xml version="1.0" encoding="utf-8"?>
<!--
  Дополнительные сведения о настройке приложения ASP.NET см. по адресу:
  http://go.microsoft.com/fwlink/?LinkId=301880
  -->
<configuration>
  <configSections>
    
    <section name="entityFramework" type="System.Data.Entity.Internal.ConfigFile.EntityFrameworkSection, EntityFramework, Version=6.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" requirePermission="false" />
  <!-- For more information on Entity Framework configuration, visit http://go.microsoft.com/fwlink/?LinkID=237468 --><!-- For more information on Entity Framework configuration, visit http://go.microsoft.com/fwlink/?LinkID=237468 --></configSections>
  <connectionStrings>
    <add name="DefaultConnection" connectionString="Data Source=(LocalDb)\v11.0;AttachDbFilename=|DataDirectory|\x_nova_template.mdf;Initial Catalog=x_nova_template;Integrated Security=True" providerName="System.Data.SqlClient" />
  </connectionStrings>
  <appSettings>
    <add key="webpages:Version" value="3.0.0.0" />
    <add key="webpages:Enabled" value="false" />
    <add key="ClientValidationEnabled" value="true" />
    <add key="UnobtrusiveJavaScriptEnabled" value="true" />

    <!-- Почтовые данные -->
    <add key="mailAddress" value="mail@x-nova.ru" />
    <add key="mailUserName" value="u429841" />
    <add key="mailPassword" value="302eafa50" />
    <add key="mailHost" value="smtp-20.1gb.ru" />
    <!-- Настройки сайта   -->

    <add key="SiteName" value="http://web_store.ru" />
    <add key="SiteLiveStatus" value="false" />
    <add key="AllowCaptcha" value="false" />
    <add key="IsFirstTime" value="false" />
    <add key="SiteStart" value="01.07.2015" />
  </appSettings>
  <system.web>

    <globalization requestEncoding="utf-8" responseEncoding="utf-8" />
    <sessionState mode="InProc"  timeout="200000" regenerateExpiredSessionId="true" />
    
    <authentication mode="None" />
    <compilation debug="true" targetFramework="4.5" />
    <httpRuntime targetFramework="4.5" />
  <pages>
    <namespaces>
      <add namespace="System.Web.Helpers" />
      <add namespace="System.Web.Mvc" />
      <add namespace="System.Web.Mvc.Ajax" />
      <add namespace="System.Web.Mvc.Html" />
      <add namespace="System.Web.Routing" />
      <add namespace="System.Web.WebPages" />
      
      <add namespace="x_nova_template.Extension" />
      <add namespace="x_nova_template.Resourses" />
      <add namespace="x_nova_template.Areas.Admin.Controllers" />
      <add namespace="Kendo.Mvc.UI" /></namespaces></pages>
  </system.web>
  <system.webServer>
    <staticContent>
      <remove fileExtension=".woff" />
      <remove fileExtension=".woff2" />
      <remove fileExtension=".json" />
      <mimeMap fileExtension=".json" mimeType="application/json" />
      <mimeMap fileExtension=".woff" mimeType="application/font-woff" />
      <mimeMap fileExtension=".woff2" mimeType="application/font-woff" />
    </staticContent>
    <modules>
      <!-- IIS 7.X - Registers 51Degrees Detector Module. Without this call to 51Degrees.core.js won't work.--><remove name="FormsAuthenticationModule" />
    <remove name="Detector" /><add name="Detector" type="FiftyOne.Foundation.Mobile.Detection.DetectorModule, FiftyOne.Foundation" /></modules>
  <handlers>
      <remove name="ExtensionlessUrlHandler-Integrated-4.0" />
      <remove name="OPTIONSVerbHandler" />
      <remove name="TRACEVerbHandler" />
      <add name="ExtensionlessUrlHandler-Integrated-4.0" path="*." verb="*" type="System.Web.Handlers.TransferRequestHandler" preCondition="integratedMode,runtimeVersionv4.0" />
    </handlers></system.webServer>
  <runtime>
    <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
      <dependentAssembly>
        <assemblyIdentity name="WebGrease" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="0.0.0.0-1.6.5135.21930" newVersion="1.6.5135.21930" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Newtonsoft.Json" publicKeyToken="30ad4fe6b2a6aeed" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-8.0.0.0" newVersion="8.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.Owin" publicKeyToken="31bf3856ad364e35" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-3.0.1.0" newVersion="3.0.1.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.Owin.Security" publicKeyToken="31bf3856ad364e35" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-3.0.1.0" newVersion="3.0.1.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Web.Http" publicKeyToken="31bf3856ad364e35" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-5.2.3.0" newVersion="5.2.3.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Web.Helpers" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="1.0.0.0-3.0.0.0" newVersion="3.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Web.WebPages" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="1.0.0.0-3.0.0.0" newVersion="3.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Web.Mvc" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="0.0.0.0-5.2.3.0" newVersion="5.2.3.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.AspNet.Identity.Core" publicKeyToken="31bf3856ad364e35" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-2.0.0.0" newVersion="2.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.Owin.Security.OAuth" publicKeyToken="31bf3856ad364e35" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-3.0.1.0" newVersion="3.0.1.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.Owin.Security.Cookies" publicKeyToken="31bf3856ad364e35" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-3.0.1.0" newVersion="3.0.1.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Antlr3.Runtime" publicKeyToken="eb42632606e9261f" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-3.5.0.2" newVersion="3.5.0.2" />
      </dependentAssembly>
    </assemblyBinding>
  </runtime>
  <entityFramework>
    <defaultConnectionFactory type="System.Data.Entity.Infrastructure.LocalDbConnectionFactory, EntityFramework">
      <parameters>
        <parameter value="v11.0" />
      </parameters>
    </defaultConnectionFactory>
    <providers>
      <provider invariantName="System.Data.SqlClient" type="System.Data.Entity.SqlServer.SqlProviderServices, EntityFramework.SqlServer" />
    </providers>
  </entityFramework>
</configuration>



<!--@{/*بسم الله الرحمن الرحيم*/}


<!DOCTYPE html>
<html>
  <head>
    <title>@ViewBag.Title</title>
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" />
    <link href="favicon.ico" rel="shortcut icon" type="image/x-icon" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    @if (IsSectionDefined("SEO"))
    {
    @RenderSection("SEO", false)
    }
    else
    {
    <meta name="keywords" content="@ConfigController.SiteOptions().Keywords" />
    <meta name="description" content="@ConfigController.SiteOptions().Description" />
    }
    @*@Styles.Render("~/Content/kcss")*@

    @Styles.Render("~/Content/bootstrap")
    @Styles.Render("~/Content/css")
    @Styles.Render("~/Content/authcss")
    @if (Request.Browser.IsMobileDevice)
    {
    @Styles.Render("~/Content/mobilecss")
    }
    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/jqueryval")

    @Scripts.Render("~/bundles/sitejs")

    @Scripts.Render("~/bundles/bootstrap")

    <script>
      function collapseCycle() {
      $.post('/Config/Abandon');
      }

      @if (Request.Browser.Browser.ToLower() == "internet explorer") {

      <text>
        $('html').addClass('ie');
      </text>
      }

    </script>
    <script>
      $(function () {
      var menuLeft = $('#cbp-spmenu-s1'),
      showLeft = $('#showLeft'),
      body = $('body');
      body.on('click', function () {
      if (menuLeft.hasClass('cbp-spmenu-open')) { menuLeft.toggleClass('cbp-spmenu-open'); showLeft.toggleClass('active'); }
      });
      showLeft.on('click', function () {

      $(this).toggleClass('active');
      setTimeout(function () { menuLeft.toggleClass('cbp-spmenu-open'); }, '100');
      //disableOther('showLeft');
      });

      function disableOther(button) {
      if (button !== 'showLeft') {
      classie.toggle(showLeft, 'disabled');
      }

      }

      }); console.log('browser - @Request.Browser.IsMobileDevice');
      console.log('width: @Request.Browser.ScreenPixelsWidth')
    </script>


  </head>
  <body class="cbp-spmenu-push" lang="@System.Threading.Thread.CurrentThread.CurrentCulture.Name" onbeforeunload="collapseCycle()" data-pagecounter="@ViewBag.PageCounter">
    @Html.Partial("_LiveChat")
    @Html.Partial("_ModalWindows", new x_nova_template.ViewModel.TemplatesViewModel { type = 0 })

    <div>
      <div id="main-wrapper">
        <header class="top-header navbar-default navbar" role="navigation">

          <div class="container">
            <div class="row">
              <div class="navbar-header">

                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#top-navbar-collapse">
                  <span class="sr-only">Toggle navigation</span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                </button>



              </div>
              <div class="collapse navbar-collapse" id="top-navbar-collapse">

                <div class="top-h col-md-6 col-sm-5">

                  @{Html.RenderAction("SS", "Menu", new { menuSection = 0 });}


                </div>
                <div class="top-left-h col-md-3 col-sm-3">
                  @Html.Partial("_TopCart")
                </div>
                <div class="col-sm-1 col-md-1 top-right-h">
                  @Html.Partial("_CartButton")
                </div>
              </div>
            </div>
          </div>
        </header>

        <section id="content" class="clear-fix">
          <div id="content-wrapper" class="container">
            <div class="row">
              <div class="col-md-12 col-sm-12 hidden-xs">
                <div class="container carousel-wrapper">
                  @Html.Partial("_MainSlider")
                </div>
              </div>

            </div>
            <div class="row">
              <aside id="catalog" class="col-md-3 col-sm-12 col-xs-12">
                <h2>Каталог</h2>
                <div class="cat-list">
                  @{Html.RenderAction("CatsMenu", "Category");}
                </div>
              </aside>

              <article id="article" class="col-md-8 col-sm-12 col-xs-12">

                @RenderBody()
              </article>
            </div>

          </div>
        </section>

        <footer>
          <div class="f-wrap clear-fix container">
            <span class="f-copyright glyphicon glyphicon-copyright-mark"></span>
            <span>
              <a href="#" class="navbar-brand">BRAND</a>
            </span>
          </div>
        </footer>
      </div>
    </div>

    @if (!Request.IsLocal)
    {

    --><!-- /Yandex.Metrika counter --><!--
    }
    else
    {
    @:
    }


  </body>
</html>-->
